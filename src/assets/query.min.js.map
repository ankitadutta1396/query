{"version":3,"sources":["query.js"],"names":["$form","$","$sql","$results","on","ev","preventDefault","Craft","postActionRequest","sql","val","response","textStatus","success","result","length","html","key","i","cell"],"mappings":"AAAA,GAAIA,OAAQC,EAAE,eACVC,KAAOD,EAAE,cACTE,SAAWF,EAAE,gBAEjBD,OAAMI,GAAG,SAAU,SAASC,GACxBA,EAAGC,iBACHC,MAAMC,kBAAkB,yBAA0BC,IAAKP,KAAKQ,OAAQ,SAASC,EAAUC,GAEnF,GAAkB,WAAdA,EAEA,GAAID,EAASE,SAET,GAAIF,EAASG,OAAOC,OAAQ,CACxB,GAAIC,GAAO,iCAIX,KAAK,GAAIC,KAAON,GAASG,OAAO,GAC5BE,GAAQ,mBACJC,EACA,OAGRD,IAAQ,uBAIR,KAAK,GAAIE,GAAI,EAAGA,EAAIP,EAASG,OAAOC,OAAQG,IAAK,CAC7CF,GAAQ,MACR,KAAK,GAAIG,KAAQR,GAASG,OAAOI,GAC7BF,GAAQ,wCACJL,EAASG,OAAOI,GAAGC,GACnB,aAERH,IAAQ,QAGZA,GAAQ,kBAGRb,SAASa,KAAKA,QAGlBb,UAASa,KAAK,sBAAwBL,EAASG,OAAS","file":"query.min.js","sourcesContent":["var $form = $('#query-form');\nvar $sql = $('#query-sql');\nvar $results = $('#query-result');\n\n$form.on('submit', function(ev) {\n    ev.preventDefault();\n    Craft.postActionRequest('query/default/execute', {sql: $sql.val()}, function(response, textStatus) {\n\n        if (textStatus == 'success') {\n\n            if (response.success) {\n\n                if (response.result.length) {\n                    var html = '<table class=\"data\">' +\n                        '<thead>' +\n                        '<tr>';\n\n                    for (var key in response.result[0]) {\n                        html += '<th scope=\"col\">' +\n                            key +\n                            '</th>';\n                    }\n\n                    html += '</tr>' +\n                        '</thead>' +\n                        '</tbody>';\n\n                    for (var i = 0; i < response.result.length; i++) {\n                        html += '<tr>';\n                        for (var cell in response.result[i]) {\n                            html += '<td style=\"vertical-align: top\"><pre>' +\n                                response.result[i][cell] +\n                                '</pre></td>';\n                        }\n                        html += '</tr>';\n                    }\n\n                    html += '<tbody>' +\n                        '</table>';\n\n                    $results.html(html);\n                }\n            } else {\n                $results.html('<div class=\"error\">' + response.result + '</div>');\n            }\n\n        }\n    });\n});\n"]}