var $form=$("#query-form"),$submit=$("#query-submit"),$spinner=$("#query-spinner"),$sql=$("#query-sql"),$results=$("#query-result"),executing=!1;$sql.on("keydown",function(e){e.keyCode===Garnish.RETURN_KEY&&Garnish.isCtrlKeyPressed(e)&&$form.submit()}),$form.on("submit",function(e){e.preventDefault(),executing||($submit.addClass("active"),$spinner.removeClass("hidden"),executing=!0,Craft.postActionRequest("query/default/execute",{sql:$sql.val()},function(e,s){if($submit.removeClass("active"),$spinner.addClass("hidden"),executing=!1,"success"==s){var t;if(e.success){if(e.result.length){t='<table class="data fullwidth"><thead><tr>';for(var r in e.result[0])t+='<th scope="col">'+r+"</th>";t+="</tr></thead></tbody>";for(var l=0;l<e.result.length;l++){t+="<tr>";for(var u in e.result[l])t+='<td style="vertical-align: top"><pre>',null===e.result[l][u]?t+='<span class="extralight">NULL</span>':t+=e.result[l][u],t+="</pre></td>";t+="</tr>"}t+="<tbody></table>"}}else t='<p class="error">'+e.result+"</p>";$results.html(t)}}))});
//# sourceMappingURL=query.min.js.map
